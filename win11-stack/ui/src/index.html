<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ScingR</title>
    <style>
      :root {
        color-scheme: light dark;
        --bg0: #040406;
        --bg1: #07070b;
        --glow: 0.85;
        --pulse: 1.0;
        --hue: 38deg;
        --sat: 1.15;
      }

      body {
        margin: 0;
        background: radial-gradient(1200px 700px at 50% 55%, var(--bg1), var(--bg0));
        color: #eaeaf2;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      }

      #scing-app { padding: 16px; }

      #scing-stage {
        position: relative;
        height: 420px;
        display: grid;
        place-items: center;
        overflow: hidden;
      }

      #scing-floor {
        position: absolute;
        width: 820px;
        height: 220px;
        bottom: -120px;
        left: 50%;
        transform: translateX(-50%);
        background: radial-gradient(closest-side, rgba(255,180,70,0.18), rgba(0,0,0,0));
        filter: blur(18px);
        opacity: calc(0.65 * var(--glow));
      }

      #scing-avatar-wrap {
        position: relative;
        width: 220px;
        height: 220px;
        display: grid;
        place-items: center;
        transform: scale(var(--pulse));
        transition: transform 120ms ease;
        filter: hue-rotate(var(--hue)) saturate(var(--sat));
      }

      #scing-avatar {
        width: 100%;
        height: 100%;
        object-fit: contain;
        image-rendering: auto;
        filter:
          drop-shadow(0 0 18px rgba(255, 170, 60, calc(0.55 * var(--glow))))
          drop-shadow(0 0 44px rgba(255, 70, 160, calc(0.25 * var(--glow))));
        animation: scingBreath 2.7s ease-in-out infinite;
      }

      @keyframes scingBreath {
        0%, 100% { transform: translateY(0px) scale(1.00); opacity: 0.98; }
        50%      { transform: translateY(-3px) scale(1.02); opacity: 1.00; }
      }

      #scing-caption {
        position: absolute;
        bottom: 18px;
        display: flex;
        gap: 10px;
        align-items: baseline;
        opacity: 0.85;
      }
      #scing-caption .name { font-size: 16px; letter-spacing: 0.18em; text-transform: uppercase; }
      #scing-caption .tag  { font-size: 12px; opacity: 0.7; }

      header { display: flex; gap: 12px; align-items: baseline; }
      .grid { display: grid; grid-template-columns: 220px 1fr; gap: 8px 12px; max-width: 900px; }
      .k { opacity: 0.7; }
      pre { white-space: pre-wrap; word-break: break-word; }
      button { padding: 6px 10px; }
      .row { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
      .pill { padding: 2px 8px; border: 1px solid currentColor; border-radius: 999px; opacity: 0.85; }
    </style>
  </head>
  <body>
    <div id="scing-stage">
      <div id="scing-floor"></div>
      <div id="scing-avatar-wrap">
        <img id="scing-avatar" src="./assets/scing-avatar.svg" alt="Scing" />
      </div>
      <div id="scing-caption">
        <span class="name">ScingR</span>
        <span class="tag">Powered by ScingOS</span>
      </div>
    </div>

    <div id="scing-app">
    <header>
      <h1 style="margin:0">ScingR</h1>
      <span class="k">Powered by ScingOS</span>
      <span class="pill" id="transport">disconnected</span>
      <span class="pill" id="service">unknown</span>
    </header>

    <section style="margin-top:12px" class="row">
      <button id="btnReconnect" type="button">Reconnect</button>
      <button id="btnDiagnostics" type="button">Diagnostics snapshot</button>
    </section>

    <section style="margin-top:16px" class="grid">
      <div class="k">Base URL</div>
      <div id="baseUrl"></div>

      <div class="k">Uptime (seconds)</div>
      <div id="uptime">-</div>

      <div class="k">Last message at</div>
      <div id="lastMsg">-</div>

      <div class="k">Last event type</div>
      <div id="lastEventType">-</div>

      <div class="k">Last event</div>
      <pre id="lastEvent">-</pre>

      <div class="k">Version</div>
      <pre id="version">-</pre>

      <div class="k">Compat</div>
      <pre id="compat">-</pre>
    </section>

    <hr style="margin:24px 0" />

    <section>
      <h2 style="margin:0 0 8px 0">Plugins</h2>
      <div class="row" style="margin-bottom: 8px">
        <label for="adminToken" class="k">Admin Token (X-Scing-Admin-Token)</label>
        <input id="adminToken" type="password" placeholder="X-Scing-Admin-Token" style="padding:6px 10px; min-width: 320px" />
        <button id="btnPluginsRefresh" type="button">Refresh plugins</button>
      </div>

      <div id="pluginsList" class="grid"></div>

      <div style="margin-top: 12px">
        <div class="k">Plugin logs</div>
        <pre id="pluginLogs">-</pre>
      </div>
    </section>

    <script type="module" src="./app.js"></script>
    </div>
  </body>
</html>
