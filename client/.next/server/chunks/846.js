"use strict";exports.id=846,exports.ids=[846],exports.modules={6:(a,b,c)=>{c.d(b,{w:()=>e});var d=c(8732);function e(){return(0,d.jsx)("footer",{className:"bg-gray-50 border-t border-gray-200",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:(0,d.jsx)("div",{className:"text-center text-sm text-gray-500",children:(0,d.jsxs)("p",{children:["Built with Bona Fide Intelligence | \xa9 ",new Date().getFullYear()," Inspection Systems Direct LLC"]})})})})}},23:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{P:()=>n});var e=c(8732),f=c(2015),g=c(9239),h=c(6),i=c(7050),j=c(2575),k=c(8789),l=c(403),m=a([g]);function n({children:a}){let[b,c]=(0,f.useState)((0,k.Ov)()),d=(0,f.useMemo)(()=>{switch(b.truth){case"idle":default:return 0;case"listening":return .35;case"thinking":case"in_flight":return .55;case"speaking":return .75;case"error":return .25}},[b.truth]);return(0,e.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,e.jsx)(g.F,{}),(0,e.jsx)("main",{className:"flex-1",children:a}),(0,e.jsx)(h.w,{}),(0,e.jsx)(j.H,{}),(0,e.jsx)(l.A,{}),(0,e.jsx)("div",{style:{position:"fixed",right:16,bottom:16,zIndex:40},children:(0,e.jsx)(i.a,{className:"select-none",children:(0,e.jsx)("div",{className:"flex items-center justify-center rounded-full bg-primary-600 text-white font-semibold",style:{width:56,height:56,"--srt-truth":d,transform:"scale(calc(1 + (var(--scing-hover) * 0.04) + (var(--scing-pressed) * 0.02)))",filter:"brightness(calc(1 + (var(--scing-attn) * 0.12) + (var(--srt-truth) * 0.08)))",transition:"transform 120ms ease, filter 120ms ease"},title:"Scing",children:"S"})})})]})}g=(m.then?(await m)():m)[0],d()}catch(a){d(a)}})},403:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(8732),e=c(2015),f=c(8789);let g=()=>{let a="undefined"!=typeof process&&"true"===process.env.NEXT_PUBLIC_SRT_DEBUG,[b,c]=(0,e.useState)((0,f.Ov)());return((0,e.useEffect)(()=>{if(a)return(0,f.DF)(a=>c(a))},[a]),a)?(0,d.jsxs)("div",{style:{position:"fixed",left:12,bottom:12,zIndex:9999,background:"rgba(0,0,0,0.7)",color:"white",padding:10,borderRadius:8,fontSize:12,maxWidth:360},children:[(0,d.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"SRT Debug"}),(0,d.jsxs)("div",{children:["truth: ",b.truth]}),(0,d.jsxs)("div",{children:["mods: h=",b.modifiers.hover.toFixed(2)," p=",b.modifiers.pressed.toFixed(2)," a=",b.modifiers.attn.toFixed(2)]}),(0,d.jsxs)("div",{children:["corr: ",b.lastCorrelationId??"-"]})]}):null}},2572:(a,b,c)=>{c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(2341);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsxs)(e.Head,{children:[(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,d.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",rel:"stylesheet"})]}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},2575:(a,b,c)=>{c.d(b,{H:()=>k});var d=c(8732),e=c(2015),f=c(5329),g=c(6966),h=c(7057),i=c(5441),j=c(8789);function k(){let[a,b]=(0,e.useState)({isOpen:g.Gu().isOpen}),[c,k]=(0,e.useState)(""),[l,m]=(0,e.useState)((0,h.p8)()),[n,o]=(0,e.useState)((0,j.Ov)()),p=async a=>{let b=a.trim();if(b){(0,h.Ux)(b);try{let a=await (0,i.fW)(b);(0,h.xp)(a.textOut,a.correlationId)}catch(c){let a=c?.message||"Failed to send.",b=c instanceof i.lG?c.correlationId:void 0;(0,h.Qw)({message:a,correlationId:b})}}},q=async()=>{k(""),await p(c)};return a.isOpen?(0,d.jsxs)("div",{role:"dialog","aria-label":"Scing panel",style:{position:"fixed",top:0,right:0,height:"100vh",width:380,maxWidth:"92vw",background:"white",borderLeft:"1px solid rgba(0,0,0,0.08)",zIndex:50,display:"flex",flexDirection:"column"},children:[(0,d.jsxs)("div",{style:{padding:12,borderBottom:"1px solid rgba(0,0,0,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)("div",{style:{fontWeight:800},children:"Scing"}),(0,d.jsx)("button",{type:"button",onClick:()=>g.VN(),style:{padding:"6px 10px"},children:"Close"})]}),(0,d.jsxs)("div",{style:{padding:12,display:"grid",gap:10,overflow:"auto"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{fontSize:12,fontWeight:800},children:"SRT"}),(0,d.jsxs)("div",{style:{marginTop:6,fontSize:13},children:[(0,d.jsxs)("div",{children:["truth: ",n.truth]}),(0,d.jsxs)("div",{style:{opacity:.7},children:["corr: ",n.lastCorrelationId??l.lastCorrelationId??"—"]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{fontSize:12,fontWeight:800},children:"Transcript"}),(0,d.jsx)("div",{style:{marginTop:6,fontSize:13,whiteSpace:"pre-wrap"},children:l.lastUserText?l.lastUserText:(0,d.jsx)("span",{style:{opacity:.6},children:"—"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{fontSize:12,fontWeight:800},children:"Response"}),(0,d.jsx)("div",{style:{marginTop:6,fontSize:13,whiteSpace:"pre-wrap"},children:l.error?(0,d.jsx)("span",{style:{fontWeight:700},children:l.error.message}):l.lastAssistantText?l.lastAssistantText:(0,d.jsx)("span",{style:{opacity:.6},children:"—"})})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>(0,f.Q)("status"),style:{padding:"6px 10px"},children:"Status"}),(0,d.jsx)("button",{type:"button",onClick:()=>(0,f.Q)("help"),style:{padding:"6px 10px"},children:"Help"}),(0,d.jsx)("button",{type:"button",onClick:()=>(0,f.Q)("reset"),style:{padding:"6px 10px"},children:"Reset"})]})]}),(0,d.jsxs)("div",{style:{padding:12,borderTop:"1px solid rgba(0,0,0,0.08)",display:"grid",gap:8},children:[(0,d.jsx)("input",{value:c,onChange:a=>k(a.target.value),placeholder:"Type…",style:{padding:"10px 12px",border:"1px solid rgba(0,0,0,0.18)",borderRadius:10}}),(0,d.jsx)("button",{type:"button",onClick:q,style:{padding:"10px 12px",borderRadius:10},children:"Send"})]})]}):null}},2987:(a,b,c)=>{function d(a,b){if("string"!=typeof a)return b;let c=a.trim().toLowerCase();return"true"===c||"1"===c||"yes"===c||"false"!==c&&"0"!==c&&"no"!==c&&b}function e(){let a=d(process.env.NEXT_PUBLIC_VOICE_ENABLED,!1),b=process.env.NEXT_PUBLIC_VOICE_MODE;return{enabled:a,mode:"hands_free"===b||"push_to_talk"===b?b:"push_to_talk",locale:process.env.NEXT_PUBLIC_VOICE_LOCALE||"en-US",vadEnabled:d(process.env.NEXT_PUBLIC_VOICE_VAD,!0),sttProvider:process.env.VOICE_STT_PROVIDER||"local-webspeech",ttsProvider:process.env.VOICE_TTS_PROVIDER||"none"}}c.d(b,{V:()=>e})},4950:(a,b,c)=>{function d(){return"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():`corr_${Date.now()}_${Math.random().toString(16).slice(2)}`}function e(a){let b="idle",c="",e="",f="",g=null,h=null,i=!1,j=null,k=!1,l="number"==typeof a.timeoutMs?a.timeoutMs:12e3,m=()=>({state:b,transcriptInterim:c,transcriptFinal:e,lastResponse:f,lastError:g,correlationId:h}),n=()=>{j&&clearTimeout(j),j=null},o=c=>{b=c,a.onChange(m())},p=a=>{n(),g=a,o("error")},q=()=>{n(),c="",e="",f="",g=null,h=null,i=!1,o("idle")},r=async b=>{if(k)return;i=!0,n(),e=b,c="",a.onChange(m());let g=h??d();o("thinking");try{f=(await a.submitToNeural({correlationId:g,text:b})).textOut,o("idle")}catch(a){p({code:"NETWORK",message:a?.message||"Failed to submit to Neural.",recoverable:!0})}};return a.stt.__voiceMvpHooks={onInterim:b=>{k||(c=b,a.onChange(m()))},onFinal:r,onError:a=>{k||p(a)}},a.onChange(m()),{snapshot:m,pushToTalkDown:()=>{if(!k&&"listening"!==b&&"transcribing"!==b&&"thinking"!==b){if("error"===b&&q(),!a.stt.isSupported())return void p({code:"STT_FAILED",message:"SpeechRecognition not supported.",recoverable:!1});h=d(),c="",e="",g=null,i=!1,n(),j=setTimeout(()=>{k||i||(a.stt.abort(),p({code:"NO_AUDIO",message:"No final transcript received.",recoverable:!0}))},l),o("listening"),a.stt.start()}},pushToTalkUp:()=>{k||"listening"===b&&(o("transcribing"),a.stt.stop())},reset:q,dispose:()=>{k=!0,n(),a.stt.abort()}}}c.d(b,{u:()=>e})},7050:(a,b,c)=>{c.d(b,{a:()=>i});var d=c(8732),e=c(2015),f=c(5329);function g(a){let b=(0,e.useRef)(null),c=(0,e.useMemo)(()=>({position:"fixed",left:Math.max(8,a.x),top:Math.max(8,a.y),zIndex:60,background:"white",border:"1px solid rgba(0,0,0,0.12)",borderRadius:12,padding:6,minWidth:180,boxShadow:"0 8px 24px rgba(0,0,0,0.12)"}),[a.x,a.y]);return a.isOpen?(0,d.jsxs)("div",{ref:b,style:c,onContextMenu:a=>a.preventDefault(),children:[(0,d.jsx)(h,{label:"Talk",onPointerDown:()=>(0,f.Q)("voice_ptt_start"),onPointerUp:()=>(0,f.Q)("voice_ptt_stop")}),(0,d.jsx)(h,{label:"Open Panel",onClick:()=>(0,f.Q)("open_panel")}),(0,d.jsx)(h,{label:"Status",onClick:()=>(0,f.Q)("status")}),(0,d.jsx)(h,{label:"Reset",onClick:()=>(0,f.Q)("reset")}),(0,d.jsx)("div",{style:{height:1,margin:"6px 4px",background:"rgba(0,0,0,0.08)"}}),(0,d.jsx)(h,{label:"Mic Toggle",onClick:()=>(0,f.Q)("privacy_toggle_mic")}),(0,d.jsx)(h,{label:"Camera Toggle",onClick:()=>(0,f.Q)("privacy_toggle_cam")}),(0,d.jsx)(h,{label:"Wearables Toggle",onClick:()=>(0,f.Q)("privacy_toggle_wearables")})]}):null}function h(a){return(0,d.jsx)("button",{type:"button",style:{width:"100%",textAlign:"left",padding:"10px 10px",borderRadius:10},onClick:a.onClick,onPointerDown:a.onPointerDown,onPointerUp:a.onPointerUp,children:a.label})}function i(a){let b=(0,e.useRef)(null),[c,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(0),[k,l]=(0,e.useState)(0),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)({x:0,y:0}),q=(0,e.useMemo)(()=>({"--scing-hover":i,"--scing-pressed":+!!c,"--scing-attn":k,"--srt-hover":i,"--srt-pressed":+!!c,"--srt-attn":k}),[i,c,k]),r=(0,e.useCallback)((a,c)=>{var d;let e=b.current;if(!e)return 0;let f=e.getBoundingClientRect(),g=f.left+f.width/2,h=f.top+f.height/2,i=a-g,j=c-h;return!Number.isFinite(d=1-Math.sqrt(i*i+j*j)/Math.max(1,Math.max(f.width,f.height)/2))||d<0?0:d>1?1:d},[]),s=(0,e.useCallback)(()=>{l(1),window.setTimeout(()=>l(0),220),(0,f.Q)("toggle_panel",{hoverProximity:i,pressed:c,attentionPulse:1})},[i,c]),t=(0,e.useCallback)(a=>{h(!0);try{a.currentTarget.setPointerCapture?.(a.pointerId)}catch{}(0,f.Q)("voice_ptt_start",{pointerType:a.pointerType,x:a.clientX,y:a.clientY,hoverProximity:i,pressed:!0})},[i]),u=(0,e.useCallback)(a=>{h(!1);try{a.currentTarget.releasePointerCapture?.(a.pointerId)}catch{}(0,f.Q)("voice_ptt_stop",{pointerType:a.pointerType,x:a.clientX,y:a.clientY,hoverProximity:i,pressed:!1})},[i]),v=(0,e.useCallback)(a=>{h(!1);try{a.currentTarget.releasePointerCapture?.(a.pointerId)}catch{}(0,f.Q)("voice_ptt_stop",{pointerType:a.pointerType,x:a.clientX,y:a.clientY,hoverProximity:i,pressed:!1,cancelled:!0})},[i]),w=(0,e.useCallback)(a=>{j(r(a.clientX,a.clientY))},[r]),x=(0,e.useCallback)(a=>{a.preventDefault(),n(!0),p({x:a.clientX,y:a.clientY}),(0,f.Q)("open_radial_menu",{x:a.clientX,y:a.clientY})},[]),y=(0,e.useCallback)(()=>{n(!1)},[]),z=(0,e.useCallback)(a=>{if(" "===a.key){a.preventDefault(),(0,f.Q)("voice_ptt_start",{hoverProximity:i,pressed:c});return}if("Enter"===a.key){a.preventDefault(),(0,f.Q)("toggle_panel",{hoverProximity:i,pressed:c});return}if("Escape"===a.key){a.preventDefault(),(0,f.Q)("close_panel"),y(),(0,f.Q)("close_radial_menu");return}},[y,i,c]),A=(0,e.useCallback)(a=>{" "===a.key&&(a.preventDefault(),(0,f.Q)("voice_ptt_stop",{hoverProximity:i,pressed:!1}))},[i]);return(0,d.jsxs)("div",{ref:b,role:"button",tabIndex:0,"aria-label":"Scing",className:a.className,style:{cursor:"pointer",userSelect:"none",...q},onClick:s,onPointerDown:t,onPointerUp:u,onPointerCancel:v,onPointerMove:w,onContextMenu:x,onKeyDown:z,onKeyUp:A,children:[a.children,(0,d.jsx)(g,{isOpen:m,x:o.x,y:o.y,onClose:y})]})}c(8789)},7788:(a,b,c)=>{c.d(b,{U:()=>d});function d(a){return{isSupported:()=>!1,start:()=>{var b;!0;a.callbacks.onError?.({code:"STT_FAILED",message:"SpeechRecognition is not supported in this browser.",recoverable:!1})},stop:()=>{},abort:()=>{}}}},7997:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{B:()=>j});var e=c(2015),f=c(4233),g=c(2987);c(7788),c(4950);var h=c(6612),i=a([h]);function j(){(0,f.useRouter)();let{user:a}=(0,h.n)(),b=(0,e.useMemo)(()=>(0,g.V)(),[]).enabled,[c,d]=(0,e.useState)("idle"),[i,j]=(0,e.useState)(""),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)(""),[o,p]=(0,e.useState)(null),[q,r]=(0,e.useState)(null),s=(0,e.useRef)(null);(0,e.useMemo)(()=>({"x-bane-identity":a?.uid||"local-dev","x-bane-capabilities":"bane:invoke"}),[a?.uid]);let t=(0,e.useCallback)(()=>s.current?.pushToTalkDown(),[]),u=(0,e.useCallback)(()=>s.current?.pushToTalkUp(),[]);return{enabled:b,state:c,transcriptInterim:i,transcriptFinal:k,lastResponse:m,lastError:o,correlationId:q,pttDown:t,pttUp:u}}h=(i.then?(await i)():i)[0],d()}catch(a){d(a)}})},9239:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{F:()=>o});var e=c(8732),f=c(9918),g=c.n(f),h=c(6612),i=c(2015),j=c(6958),k=c(4954),l=c(7997),m=c(750);c(7057);var n=a([h,j,k,l]);function o(){let{user:a}=(0,h.n)(),b=(0,l.B)();b.enabled,b.pttDown,b.pttUp,(0,i.useRef)({status:"idle"}),(0,i.useRef)(new Set),(0,i.useRef)((0,m.td)()),(0,i.useRef)({transcriptFinal:"",lastResponse:"",lastErrorCode:"",correlationId:""});let c=async()=>{try{if(!k.j2)return;await (0,j.signOut)(k.j2)}catch(a){console.error("Sign out error:",a)}};return(0,e.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,e.jsxs)("div",{className:"flex justify-between h-16",children:[(0,e.jsx)("div",{className:"flex items-center",children:(0,e.jsx)(g(),{href:"/",className:"text-2xl font-bold text-primary-600",children:"ScingOS"})}),(0,e.jsxs)("div",{className:"flex items-center space-x-4",children:[b.enabled?(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsxs)("div",{className:"hidden sm:flex flex-col items-end text-xs leading-tight",children:[(0,e.jsxs)("div",{className:"text-gray-500",children:[(0,e.jsx)("span",{className:"font-semibold",children:"VOICE:"})," ",b.state.toUpperCase()]}),b.lastError?(0,e.jsx)("div",{className:"text-red-600 truncate max-w-xs",children:b.lastError.code}):b.transcriptFinal?(0,e.jsxs)("div",{className:"text-gray-600 truncate max-w-xs",children:['"',b.transcriptFinal,'"']}):b.transcriptInterim?(0,e.jsx)("div",{className:"text-gray-600 truncate max-w-xs",children:b.transcriptInterim}):b.lastResponse?(0,e.jsx)("div",{className:"text-gray-600 truncate max-w-xs",children:b.lastResponse}):null]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsxs)("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold",children:["VOICE: ",b.state.toUpperCase()]}),(0,e.jsx)("button",{onMouseDown:b.pttDown,onMouseUp:b.pttUp,onMouseLeave:b.pttUp,className:"px-3 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition",title:"Hold to talk (Space also works)",type:"button",children:"Hold to Talk"})]})]}):null,a?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g(),{href:"/dashboard",className:"text-gray-700 hover:text-primary-600 transition",children:"Dashboard"}),(0,e.jsx)("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary-600 transition",children:"Sign Out"})]}):(0,e.jsx)(g(),{href:"/auth/signin",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition",children:"Sign In"})]})]})})})}[h,j,k,l]=n.then?(await n)():n,d()}catch(a){d(a)}})}};